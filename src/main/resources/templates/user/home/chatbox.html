
<style>
/* Font ch·ªØ */

/* Bi·∫øn m√†u s·∫Øc */
:root {
	--border-radius: 12px !important;
	--box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
}

/* N√∫t m·ªü chat */
.chat-button {
	position: fixed !important;
	border-radius: 12px !important;
	bottom: 25px !important;
	right: 25px !important;
	background: blue !important;
	color: white !important;
	border: none !important;
	padding: 12px 20px !important;
	border-radius: 50px !important;
	cursor: pointer !important;
	font-size: 16px !important;
	font-family: 'Roboto', sans-serif !important;
	font-weight: 500 !important;
	box-shadow: var(--box-shadow) !important;
	background: var(--secondary-hover-color) !important;
	display: flex !important;
	align-items: center !important;
	gap: 8px !important;
	transition: all 0.3s ease !important;
	z-index: 1000 !important;
	display: flex !important;
}

.chat-button:hover {
	background: #f38c61 !important;
	transform: translateY(-2px) !important;
}

.chat-icon {
	font-size: 18px !important;
}

/* Container chat */
.chat-container {
	position: fixed !important;
	bottom: 20px !important;
	right: 25px !important;
	width: 350px !important;
	height: 500px !important;
	background: white !important;
	border-radius: var(--border-radius) !important;
	box-shadow: var(--box-shadow) !important;
	display: flex !important;
	flex-direction: column !important;
	overflow: hidden !important;
	z-index: 1000 !important;
	font-family: 'Roboto', sans-serif !important;
	transform: translateY(100%) !important;
	opacity: 0 !important;
	transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out
		!important;
}

.chat-container.active {
	transform: translateY(0) !important;
	opacity: 1 !important;
}

/* ·∫®n button khi chatbox m·ªü */
.chat-button {
	transition: opacity 0.3s ease-in-out !important;
}

.chat-button.hidden {
	opacity: 0 !important;
	pointer-events: none !important;
}

/* Header */
.chat-header {
	background: rgb(201, 33, 39);
	color: white !important;
	padding: 5px !important; /* Gi·∫£m padding n·∫øu c·∫ßn */
	display: flex !important;
	justify-content: space-between !important;
	align-items: center !important;
	color: white !important;
}

.chat-title {
	display: flex !important;
	align-items: center !important;
	gap: 10px !important;
}

.chat-title h3 {
	color: white !important;
	margin: 0 !important;
	font-weight: 500 !important;
	font-size: 18px !important;
	margin-left: 10px !important;
}

.ai-icon {
	font-size: 20px !important;
}

.close-button {
	background: transparent !important;
	color: white !important;
	border: none !important;
	cursor: pointer !important;
	padding: 5px !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	border-radius: 50% !important;
	transition: background 0.2s !important;
}

.close-button:hover {
	background: rgba(255, 255, 255, 0.2) !important;
}

/* Ph·∫ßn tin nh·∫Øn */
.chat-messages {
	flex: 1 !important;
	padding: 15px !important;
	overflow-y: auto !important;
	background: #f5f7fb !important;
	display: flex !important;
	flex-direction: column !important;
	gap: 12px !important;
}

/* Style cho tin nh·∫Øn */
.message {
	max-width: 80% !important;
	padding: 10px 15px !important;
	border-radius: 18px !important;
	line-height: 1.4 !important;
	font-size: 14px !important;
	position: relative !important;
	animation: fadeIn 0.3s ease !important;
}

keyframes fadeIn {from { opacity:0!important;
	transform: translateY(10px) !important;
}

to {
	opacity: 1 !important;
	transform: translateY(0) !important;
}

}

/* Ph·∫ßn input */
.chat-input-area {
	padding: 15px !important;
	background: white !important;
	border-top: 1px solid #e9ecef !important;
	display: flex !important;
	gap: 10px !important;
}

.input-wrapper {
	flex: 1 !important;
	position: relative !important;
	display: flex !important;
	align-items: center !important;
}

#chatbox-input {
	flex: 1 !important;
	padding: 12px 15px !important;
	border: 1px solid #e9ecef !important;
	border-radius: var(--border-radius) !important;
	font-family: 'Roboto', sans-serif !important;
	font-size: 14px !important;
	outline: none !important;
	transition: border 0.3s !important;
}

#chatbox-input:focus {
	border-color: var(--primary-color) !important;
}

.file-upload-button {
	position: absolute !important;
	right: 10px !important;
	background: transparent !important;
	border: none !important;
	color: var(--primary-color);
	cursor: pointer !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	padding: 5px !important;
	border-radius: 50% !important;
	transition: background 0.2s !important;
}

.file-upload-button:hover {
	background: rgba(67, 97, 238, 0.1) !important;
}

#chatbox-file {
	display: none !important;
}

.send-button {
	background: var(--primary-color) !important;
	color: white !important;
	border: none !important;
	width: 40px !important;
	height: 40px !important;
	border-radius: 50% !important;
	cursor: pointer !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	transition: background 0.3s !important;
	padding: 0 !important; /* ƒê·∫£m b·∫£o kh√¥ng c√≥ padding th·ª´a */
}

.send-button svg {
	width: 30px !important; /* ƒê·∫£m b·∫£o icon c√≥ k√≠ch th∆∞·ªõc h·ª£p l√Ω */
	height: 30px !important;
	display: block !important;
	/* Tr√°nh b·ªã ·∫£nh h∆∞·ªüng b·ªüi kho·∫£ng tr·∫Øng inline */
}

.send-button:hover {
	background: var(--secondary-color) !important;
}

/* Scrollbar */
.chat-messages::-webkit-scrollbar {
	width: 6px !important;
}

.chat-messages::-webkit-scrollbar-track {
	background: #f1f1f1 !important;
	border-radius: 10px !important;
}

.chat-messages::-webkit-scrollbar-thumb {
	background: #c1c1c1 !important;
	border-radius: 10px !important;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
	background: #a8a8a8 !important;
}

/* ·∫¢nh upload */
.uploaded-image {
	max-width: 100% !important;
	max-height: 150px !important;
	border-radius: 8px !important;
	margin-top: 5px !important;
	border: 1px solid #e9ecef !important;
}

/* Responsive */
@media ( max-width : 480px) {
	.chat-container {
		width: 100% !important;
		height: 100% !important;
		bottom: 0 !important;
		right: 0 !important;
		border-radius: 0 !important;
	}
	.chat-button {
		bottom: 15px !important;
		right: 15px !important;
	}
}

.rounded-icon {
	width: 40px !important; /* K√≠ch th∆∞·ªõc ·∫£nh */
	height: 40px !important;
	margin-left: 10px !important;
	border-radius: 50% !important; /* Bo tr√≤n ·∫£nh */
	object-fit: cover !important;
	border-radius: 50% !important; /* C·∫Øt ·∫£nh v·ª´a v·ªõi khung tr√≤n */
}

.chat-messages {
	display: flex !important;
	flex-direction: column !important;
	gap: 8px !important; /* Kho·∫£ng c√°ch gi·ªØa c√°c tin nh·∫Øn */
	padding: 10px !important;
}

/* Tin nh·∫Øn AI (b√™n tr√°i) */
.ai-wrapper {
	display: flex;
	align-items: flex-start !important; /* Canh ph·∫ßn t·ª≠ v·ªÅ ph√≠a tr√™n */
	justify-content: flex-start !important; /* ƒê·∫©y t·∫•t c·∫£ v·ªÅ b√™n tr√°i */
	width: fit-content !important; /* Ch·ªâ chi·∫øm kh√¥ng gian c·∫ßn thi·∫øt */
}

.ai-message {
	background-color: #f1f1f1 !important;
	color: black !important;
	border-radius: 10px 10px 10px 0 !important;
	padding: 5px 12px !important;
	max-width: 70% !important;
	display: inline-block !important;
	word-wrap: break-word !important; /* ƒê·∫£m b·∫£o n·ªôi dung kh√¥ng b·ªã tr√†n */
}

/* Tin nh·∫Øn User (b√™n ph·∫£i, s√°t l·ªÅ ph·∫£i) */
.user-wrapper {
	display: flex !important;
	justify-content: flex-end !important;
}

.user-message {
	background-color: #007bff !important;
	color: white !important;
	border-radius: 10px 10px 0 10px !important;
	padding: 8px 12px !important;
	max-width: 70% !important;
	text-align: left !important;
	display: inline-block !important;
	margin-right: 0 !important;
	color: white !important; /* ƒê·∫£m b·∫£o s√°t l·ªÅ ph·∫£i */
}

/* ƒê·ªãnh d·∫°ng icon AI */
.ai-icon {
	width: 40px !important;
	height: 40px !important;
	border-radius: 50% !important;
	margin-right: 0px !important;
	/* N·∫øu v·∫´n ch∆∞a s√°t th√¨ th·ª≠ ch·ªânh v·ªÅ margin-right: 5px */
}

.voice-button {
	background: transparent !important;
	border: none !important;
	color: var(--primary-color) !important;
	cursor: pointer !important;
	display: flex !important;
	width: 40px !important;
	height: 40px !important;
	align-items: center !important;
	justify-content: center !important;
	border-radius: 50% !important;
	transition: background 0.2s !important;
	height: 40px !important;
}

.voice-button:hover {
	background: #f38c61 !important;
	color: white !important;
}

.voice-button svg {
	width: 30px !important; /* ƒê·∫£m b·∫£o icon c√≥ k√≠ch th∆∞·ªõc h·ª£p l√Ω */
	height: 30px !important;
	display: block !important;
	/* Tr√°nh b·ªã ·∫£nh h∆∞·ªüng b·ªüi kho·∫£ng tr·∫Øng inline */
}

.chatbox-suggestions {
	display: flex !important;
	flex-wrap: wrap !important;
	gap: 5px !important;
	padding: 10px !important;
	background-color: #f8f8f8 !important;
	flex-wrap: wrap !important;
	position: relative !important;
}

.chatbox-suggestions button {
	padding: 6px 12px !important;
	background-color: #fff !important;
	border: 1px solid #ccc !important;
	border-radius: 5px !important;
	cursor: pointer !important;
	font-size: 14px !important;
	transition: background 0.3s ease !important;
}

.chatbox-suggestions button:hover {
	background-color: #e0e0e0 !important;
}

/* #emoji-button { */
/*     background: none; */
/*     border: none; */
/*     font-size: 20px; */
/*     cursor: pointer; */
/*     margin-left:0px */
/* } */

/* .emoji-picker { */
/*     display: none; */
/*     position: absolute; */
/*     bottom: 50px; */
/*     left: 10px; */
/*     background: white; */
/*     border: 1px solid #ddd; */
/*     padding: 10px; */
/*     border-radius: 10px; */
/*     box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); */
/*     width: 250px; */
/*     max-height: 200px; */
/*     overflow-y: auto; */
/*     z-index: 1000; */
/* } */

/* .emoji-picker span { */
/*     font-size: 20px; */
/*     cursor: pointer; */
/*     padding: 5px; */
/*     display: inline-block; */
/*     width: 30px; */
/*     text-align: center; */
/* } */

/* .emoji-picker span:hover { */
/*     background: #f0f0f0; */
/*     border-radius: 5px; */
/* } */
</style>

<button id="open-chat" class="chat-button">
	<span class="chat-icon">üí¨</span> Chat v·ªõi ch√∫ng t√¥i
</button>

<div id="chatbox" class="chat-container">
	<div class="chat-header">
		<div class="chat-title">
			<span class="ai-icon"> <img
				src="/assets/images/imageProduct/icon_chatbox.jpg" alt="AI Icon"
				width="40" height="40" class="rounded-icon">
			</span>

			<h3>Tr·ª£ l√Ω ·∫£o</h3>
		</div>
		<button id="close-chat" class="close-button">
			<svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor"
					d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
      </svg>
		</button>
	</div>
	<!-- Th√™m danh s√°ch c√¢u h·ªèi g·ª£i √Ω -->

	<!-- Ph·∫ßn hi·ªÉn th·ªã n·ªôi dung chat -->
	<div id="chatbox-body" class="chat-messages">
		<!-- Tin nh·∫Øn chat hi·ªÉn th·ªã ·ªü ƒë√¢y -->

		<!-- G·ª£i √Ω c√¢u h·ªèi s·∫Ω n·∫±m trong body chat -->
		<div id="chatbox-suggestions" class="chatbox-suggestions"></div>
	</div>

	<div class="chat-input-area">
		<div class="input-wrapper">
			<!-- 		<button id="emoji-button">üòä</button> -->
			<input type="text" id="chatbox-input" placeholder="Nh·∫≠p tin nh·∫Øn..." />
			<label for="chatbox-file" class="file-upload-button"> <svg
					viewBox="0 0 24 24" width="24" height="24">
          <path fill="currentColor"
						d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
        </svg> <input type="file" id="chatbox-file" accept="image/*">
			</label>
		</div>

		<button id="voice-search" class="voice-button">
			<svg viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor"
					d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3s-3 1.34-3 3v6c0 1.66 1.34 3 3 3zm6-3c0 3.31-2.69 6-6 6s-6-2.69-6-6H5c0 3.87 3.13 7 7 7v4h2v-4c3.87 0 7-3.13 7-7h-2z">
        </path>
    </svg>
		</button>

		<button id="chatbox-send" class="send-button">
			<svg viewBox="0 0 24 24" width="24" height="24">
        <path fill="currentColor" d="M12 4l-8 8h5v8h6v-8h5z">
        </path>
           </svg>
		</button>


		<!-- 	<div id="emoji-picker" class="emoji-picker"> -->
		<!-- 			<!-- B·∫£ng ch·ªçn emoji s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
		<!-- 		</div> -->
	</div>
</div>

<script>
// M·ªü/ƒë√≥ng chat
const openChatBtn = document.getElementById('open-chat');
const chatbox = document.getElementById('chatbox');
const closeChatBtn = document.getElementById('close-chat');
//Ki·ªÉm tra tr·∫°ng th√°i chatbox khi t·∫£i l·∫°i trang
// document.addEventListener("DOMContentLoaded", function () {
//   if (localStorage.getItem("chatbox_open") === "true") {
//     chatbox.classList.add('active');  // Hi·ªán chatbox
//     openChatBtn.classList.add('hidden'); // ·∫®n n√∫t chat
//   }
// });

openChatBtn.addEventListener('click', function() {
  chatbox.classList.add('active');  // Hi·ªán chatbox
  openChatBtn.classList.add('hidden'); // ·∫®n n√∫t chat
  //localStorage.setItem("chatbox_open", "true"); // L∆∞u tr·∫°ng th√°i
});

closeChatBtn.addEventListener('click', function() {
  chatbox.classList.remove('active'); // ·∫®n chatbox
  //localStorage.setItem("chatbox_open", "false"); // L∆∞u tr·∫°ng th√°i
  //document.getElementById('chatbox-body').innerHTML = ''; // X√≥a n·ªôi dung chat
  
  setTimeout(() => {
    openChatBtn.classList.remove('hidden'); // Hi·ªán l·∫°i button sau khi ƒë√≥ng
  }, 400); // Tr·ªÖ theo th·ªùi gian transition
});


// Hi·ªÉn th·ªã tin nh·∫Øn
document.getElementById('chatbox-send').addEventListener('click', sendMessage);
document.getElementById('chatbox-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') sendMessage();
});
document.getElementById('chatbox-file').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(event) {
        // Hi·ªÉn th·ªã ·∫£nh tr∆∞·ªõc khi g·ª≠i l√™n server
        addMessage(`<img src="${event.target.result}" class="uploaded-image" alt="Uploaded image">`, true);
    };
    reader.readAsDataURL(file);
});


function sendMessage() {
    const input = document.getElementById('chatbox-input');
    const message = input.value.trim();
    const fileInput = document.getElementById('chatbox-file');
    const file = fileInput.files[0];

    if (!message && !file) return;

    const formData = new FormData();
    formData.append("message", message);
    if (file) formData.append("image", file);

    addMessage(message, true);
    
    fetch('/rest/chatbox', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        addMessage(data.reply || "Xin l·ªói, t√¥i kh√¥ng hi·ªÉu c√¢u h·ªèi c·ªßa b·∫°n.", false);
    })
    .catch(error => {
        addMessage("C√≥ l·ªói x·∫£y ra khi k·∫øt n·ªëi v·ªõi server.", false);
        console.error('Error:', error);
    });

    input.value = '';
    fileInput.value = ''; // Reset input file
}


function addMessage(content, isUser) {
    const chatBody = document.getElementById('chatbox-body');
    const wrapperDiv = document.createElement('div');
    wrapperDiv.className = `message-wrapper ${isUser ? 'user-wrapper' : 'ai-wrapper'}`;

    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
    messageDiv.innerHTML = `<span>${content}</span>`;

    if (isUser) {
        wrapperDiv.appendChild(messageDiv); // Tin nh·∫Øn user n·∫±m b√™n ph·∫£i
    } else {
        const aiIcon = document.createElement('img');
        aiIcon.src = "/assets/images/imageProduct/icon.png";
        aiIcon.alt = "AI Icon";
        aiIcon.className = "ai-icon";
        
        wrapperDiv.appendChild(aiIcon); // Icon AI b√™n tr√°i
        wrapperDiv.appendChild(messageDiv); // Tin nh·∫Øn AI b√™n ph·∫£i icon
    }

    chatBody.appendChild(wrapperDiv);
    chatBody.scrollTop = chatBody.scrollHeight;
}


// T√¨m ki·∫øm b·∫±ng gi·ªçng n√≥i
// Ki·ªÉm tra tr√¨nh duy·ªát c√≥ h·ªó tr·ª£ Web Speech API kh√¥ng
const voiceButton = document.getElementById('voice-search');
const chatInput = document.getElementById('chatbox-input');
const sendButton = document.getElementById('chatbox-send');

if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'vi-VN'; // Ng√¥n ng·ªØ ti·∫øng Vi·ªát
    recognition.interimResults = false; // Kh√¥ng hi·ªÉn th·ªã k·∫øt qu·∫£ t·∫°m th·ªùi
    recognition.continuous = false; // Kh√¥ng nh·∫≠n di·ªán li√™n t·ª•c

    voiceButton.addEventListener('click', () => {
        recognition.start(); // B·∫Øt ƒë·∫ßu nh·∫≠n di·ªán gi·ªçng n√≥i
    });

    recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        chatInput.value = transcript; // ƒêi·ªÅn k·∫øt qu·∫£ v√†o √¥ nh·∫≠p chat
        sendButton.click(); // T·ª± ƒë·ªông g·ª≠i tin nh·∫Øn
    };

    recognition.onerror = (event) => {
        console.error('L·ªói nh·∫≠n di·ªán gi·ªçng n√≥i:', event.error);
    };
} else {
    console.warn('Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ Web Speech API');
    voiceButton.style.display = 'none'; // ·∫®n n√∫t n·∫øu kh√¥ng h·ªó tr·ª£
}

//Danh s√°ch c√¢u h·ªèi g·ª£i √Ω
document.addEventListener("DOMContentLoaded", function () {
    const suggestionsContainer = document.getElementById("chatbox-suggestions");
    const chatInput = document.getElementById("chatbox-input");
    const sendButton = document.getElementById("chatbox-send");
   
    const suggestedQuestions = [    
        { question: "L√†m sao ƒë·ªÉ mua s√°ch tr√™n website?", answer: "B·∫°n c√≥ th·ªÉ mua s√°ch tr√™n website theo c√°c b∆∞·ªõc sau: <br>" +
            "1Ô∏è‚É£ T√¨m s√°ch y√™u th√≠ch b·∫±ng c√°ch s·ª≠ d·ª•ng thanh t√¨m ki·∫øm ho·∫∑c b·ªô l·ªçc theo th·ªÉ lo·∫°i, t√°c gi·∫£.<br>" +
            "2Ô∏è‚É£ Th√™m s√°ch v√†o gi·ªè h√†ng: Nh·∫•n v√†o n√∫t ‚ÄúTh√™m v√†o gi·ªè h√†ng‚Äù ƒë·ªÉ ƒë∆∞a s√°ch v√†o gi·ªè. N·∫øu mu·ªën mua nhi·ªÅu cu·ªën, c√≥ th·ªÉ tƒÉng s·ªë l∆∞·ª£ng trong gi·ªè h√†ng. Nh·∫≠p m√£ gi·∫£m gi√° (n·∫øu c√≥) ƒë·ªÉ ƒë∆∞·ª£c ∆∞u ƒë√£i. Sau ƒë√≥ ch·ªçn thanh to√°n.<br>" +
            "3Ô∏è‚É£ Nh·∫≠p ƒë·ªãa ch·ªâ giao h√†ng: S·ª≠ d·ª•ng ƒë·ªãa ch·ªâ c√≥ s·∫µn ho·∫∑c c√≥ th·ªÉ th√™m ƒë·ªãa ch·ªâ giao h√†ng m·ªõi.<br>" +
            "4Ô∏è‚É£ Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n: Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n ph√π h·ª£p: Thanh to√°n khi nh·∫≠n h√†ng (COD), chuy·ªÉn kho·∫£n ng√¢n h√†ng, v√≠ ƒëi·ªán t·ª≠ (MoMo, ZaloPay, VNPay, v.v.)<br>" +
            "5Ô∏è‚É£ X√°c nh·∫≠n ƒë∆°n h√†ng, ho√†n t·∫•t thanh to√°n v√† ch·ªù nh·∫≠n s√°ch trong 2-3 ng√†y l√†m vi·ªác.<br>" +
            "üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},
        { question: "C√≥ h√¨nh th·ª©c thanh to√°n n√†o?", answer: "Ch√∫ng t√¥i h·ªó tr·ª£ thanh to√°n qua th·∫ª ng√¢n h√†ng, v√≠ ƒëi·ªán t·ª≠ v√† COD (thanh to√°n khi nh·∫≠n h√†ng).<br>" +
            "üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},
        { question: "Th·ªùi gian giao h√†ng bao l√¢u?", answer: "Th√¥ng th∆∞·ªùng, ƒë∆°n h√†ng s·∫Ω ƒë·∫øn tay b·∫°n trong 3-5 ng√†y l√†m vi·ªác, t√πy v√†o khu v·ª±c. ƒê·ªëi v·ªõi c√°c th√†nh ph·ªë l·ªõn, c√≥ th·ªÉ nh·∫≠n h√†ng s·ªõm h∆°n ch·ªâ trong 1-2 ng√†y! <br>"+
            "üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},
        { question: "Ch√≠nh s√°ch ƒë·ªïi tr·∫£ s√°ch nh∆∞ th·∫ø n√†o?", answer: "N·∫øu s√°ch b·ªã l·ªói in ·∫•n, h∆∞ h·ªèng trong qu√° tr√¨nh v·∫≠n chuy·ªÉn ho·∫∑c giao nh·∫ßm, b·∫°n c√≥ th·ªÉ ƒë·ªïi tr·∫£ trong v√≤ng 7 ng√†y. H√£y li√™n h·ªá ngay v·ªõi ch√∫ng t√¥i qua s·ªë ƒëi·ªán tho·∫°i 0358768117 ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ nhanh ch√≥ng! <br>"+
            "üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},  
        { question: "Shop c√≥ ∆∞u ƒë√£i n√†o khi mua s√°ch kh√¥ng?",   answer: "C√≥ ch·ª©! Khi b·∫°n ƒëƒÉng k√Ω t√†i kho·∫£n l·∫ßn ƒë·∫ßu, s·∫Ω nh·∫≠n ngay m√£ gi·∫£m gi√°. Ngo√†i ra, kh√°ch h√†ng th√¢n thi·∫øt t√≠ch l≈©y ƒë·ªß 3 ƒë∆°n h√†ng s·∫Ω ƒë∆∞·ª£c t·∫∑ng m√£ gi·∫£m gi√° h·∫•p d·∫´n! <br>"+
            "üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},
        { question: "L√†m sao ƒë·ªÉ theo d√µi ƒë∆°n h√†ng c·ªßa t√¥i?", answer: "B·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i ƒë∆°n h√†ng trong m·ª•c 'T√†i kho·∫£n', th√¥ng tin, xem l·ªãch s·ª≠ ƒë∆°n h√†ng khi ƒëƒÉng nh·∫≠p t√†i kho·∫£n ho·∫∑c c√≥ th·ªÉ theo d√µi qua email c·ªßa kh√°ch h√†ng. <br>"+
        	"üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"},
        { question: "Shop c√≥ nh·ªØng th·ªÉ lo·∫°i s√°ch n√†o hay?", answer: "Ch√∫ng t√¥i c√≥ ƒëa d·∫°ng th·ªÉ lo·∫°i s√°ch nh∆∞: vƒÉn h·ªçc, khoa h·ªçc, kinh t·∫ø, ph√°t tri·ªÉn b·∫£n th√¢n, truy·ªán tranh, ti·ªÉu thuy·∫øt, s√°ch gi√°o khoa v√† nhi·ªÅu th·ªÉ lo·∫°i kh√°c. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng b·ªô l·ªçc tr√™n website ƒë·ªÉ t√¨m s√°ch theo th·ªÉ lo·∫°i, t√°c gi·∫£ ho·∫∑c nh√† xu·∫•t b·∫£n! <br>"+
        	"üìö Ch√∫c b·∫°n c√≥ nh·ªØng tr·∫£i nghi·ªám mua s√°ch tuy·ªát v·ªùi t·∫°i BookNest Shop!"}
    ];    	
    // Hi·ªÉn th·ªã danh s√°ch c√¢u h·ªèi g·ª£i √Ω trong khung chat
    suggestedQuestions.forEach(item => {
        const button = document.createElement("button");
        button.textContent = item.question; // Ch·ªâ hi·ªÉn th·ªã c√¢u h·ªèi

        button.onclick = function () {
            //chatInput.value = item.question; // ƒê∆∞a c√¢u h·ªèi v√†o √¥ nh·∫≠p chat
            addMessage(item.answer, false); // Hi·ªÉn th·ªã c√¢u tr·∫£ l·ªùi c√≥ s·∫µn ngay l·∫≠p t·ª©c
        };

        suggestionsContainer.appendChild(button);
    });
//     // Hi·ªÉn th·ªã danh s√°ch c√¢u h·ªèi g·ª£i √Ω trong khung chat
//     suggestedQuestions.forEach(question => {
//         const button = document.createElement("button");
//         button.textContent = question;
//         button.onclick = function () {
//             chatInput.value = question;
//             sendButton.click(); // G·ª≠i tin nh·∫Øn t·ª± ƒë·ªông
//         };
//         suggestionsContainer.appendChild(button);
//     });
});

// document.addEventListener("DOMContentLoaded", function () {
//     const emojiButton = document.getElementById("emoji-button");
//     const emojiPicker = document.getElementById("emoji-picker");
//     const chatInput = document.getElementById("chatbox-input");

//     // Danh s√°ch emoji m·ªü r·ªông
//     const emojiList = [
//         "üòÄ", "üòÅ", "üòÇ", "ü§£", "üòÉ", "üòÑ", "üòÖ", "üòÜ", "üòâ", "üòä", "üòã", "üòé", "üòç", "üòò", "ü•∞", "üòó", "üòô", "üòö",
//         "üôÇ", "ü§ó", "ü§©", "ü§î", "ü§®", "üòê", "üòë", "üò∂", "üôÑ", "üòè", "üò£", "üò•", "üòÆ", "ü§ê", "üòØ", "üò™", "üò´", "ü•±",
//         "üò¥", "üòå", "ü§§", "üòõ", "üòú", "ü§™", "üòù", "ü§ë", "ü§†", "üòà", "üëª", "üíÄ", "‚ò†Ô∏è", "ü§°", "üëΩ", "ü§ñ", "üí©", "üò∫",
//         "üò∏", "üòπ", "üòª", "üòº", "üòΩ", "üôÄ", "üòø", "üòæ", "üëã", "ü§ö", "üñêÔ∏è", "‚úã", "üññ", "üëå", "ü§å", "ü§è", "‚úåÔ∏è", "ü§û",
//         "ü§ü", "ü§ò", "ü§ô", "üëà", "üëâ", "üëÜ", "üëá", "üëç", "üëé", "‚úä", "üëä", "ü§õ", "ü§ú", "üëè", "üôå", "üëê", "ü§≤", "ü§ù",
//         "üôè", "üí™", "ü¶æ", "ü¶ø", "ü¶µ", "ü¶∂", "üë£", "üëÄ", "üëÅÔ∏è", "üëÉ", "üß†", "ü¶∑", "ü¶¥", "üëÖ", "üëÑ", "üíã", "üíò", "üíù",
//         "üíñ", "üíó", "üíì", "üíû", "üíï", "üíü", "‚ù£Ô∏è", "üíî", "‚ù§Ô∏è", "üß°", "üíõ", "üíö", "üíô", "üíú", "ü§é", "üñ§", "ü§ç", "üíØ",
//         "üí¢", "üí•", "üí®", "üí¶", "üï≥Ô∏è", "üí£", "üí¨", "üóØÔ∏è", "üó®Ô∏è", "üí≠"
//     ];

//     // T·∫°o danh s√°ch emoji
//     emojiList.forEach(emoji => {
//         const span = document.createElement("span");
//         span.textContent = emoji;
//         span.onclick = function () {
//             chatInput.value += emoji; // Ch√®n emoji v√†o √¥ nh·∫≠p
//         };
//         emojiPicker.appendChild(span);
//     });

//     // Hi·ªán/·∫©n b·∫£ng emoji khi b·∫•m n√∫t
//     emojiButton.addEventListener("click", function (event) {
//         event.stopPropagation();  // Ng·ª´ng lan truy·ªÅn s·ª± ki·ªán ƒë·ªÉ kh√¥ng ·∫©n b·∫£ng emoji
//         emojiPicker.style.display = emojiPicker.style.display === "block" ? "none" : "block";
//     });

//     // ·∫®n b·∫£ng emoji khi b·∫•m ra ngo√†i
//     document.addEventListener("click", function () {
//         emojiPicker.style.display = "none";
//     });

//     // NgƒÉn b·∫£ng emoji b·ªã ·∫©n khi nh·∫•n v√†o ch√≠nh n√≥
//     emojiPicker.addEventListener("click", function (event) {
//         event.stopPropagation();  // Ng·ª´ng lan truy·ªÅn khi click v√†o emoji picker
//     });
// });


</script>